## 22、2D描边效果
具体实现参见这篇文章：[Unity ShaderGraph 2D描边效果、不规则描边效果](https://linxinfa.blog.csdn.net/article/details/114289274)

![](20210303095512374.gif)

本文的Demo工程已上传[GitHub](https://github.com/linxinfa/UnityShaderGraphOutlineEffect)：
感兴趣的同学可以自行下载学习。

### 二、2D描边效果

#### 1、导入一张png素材图片
导入一张png素材图片到Unity工程中。

![](20210303084324802.png)

如下，注意勾选上Alpha Is Transparency，不要勾选Generate Mip Maps。

![](20210303083458474.png)

#### 2、创建一个Unlit Graph
由于我们要处理的是2D图片，所以使用Unlit Graph，在Project文件夹中右键鼠标点击菜单Create - Shader - Unlit Graph，创建一个Unlit Graph。

![](20210302172155469.png)

如下：

![](2021030217254568.png)

#### 3、使用Sample Texture 2D采样图片
我们使用Sample Texture 2D对图片进行采样，显示出来的效果，会看到是下面这样子：

![](2021030308445412.png)

我们看到`Alpha`通道的显示有问题。
首先，点击`Master`节点右上角的小齿轮，将`Surface`设置为`Transparent`。

然后将贴图的A通道作为`Alpha`输入，如下：

![](20210313163234758.png)

#### 4、显示描边的思路
我们可以把图片朝各个方向分别平移n个像素，然后叠加。

![](20210302174905510.png)

然后再减去原图，这样就得到了描边轮廓了。

![](20210302175031695.png)

#### 5、使用Tilling And Offset节点控制UV，实现图片平移

根据上面的思路，我们现在要做的是从各个方向平移图片，而平移图片，就需要用到Tilling And Offset节点了。

![](20210303084912567.gif)

因为朝各个方向平移，需要用到一些共用的变量：原图、偏移值。所以我们先定义两个变量。

![](20210303084944410.png)

如下，就是对应朝左上角平移。

![](20210303085129999.png)

以此类推，得出各个方向的平移。

![](20210302182222346.png)

#### 6、得到轮廓描边

做种叠加后取alpha通道，再与原图的alpha通道做相减，这样就得出了边界轮廓了。

![](20210303085251354.png)

#### 7、描边与原图相加
有了描边，就可以与原图相加了。

![](20210313162409346.png)

#### 8、最终显示

最后输入到Master节点中，效果如下：
![](20210313163506644.png)

### 三、描边升级版
#### 1、带颜色的描边
描边与一个颜色相乘，最后再作用到原图上。

![](2021031316382717.png)

#### 2、描边加噪声
通过两个Simple Noise分别做Step在相乘，得到一个混合的噪声。

![](20210303090423798.png)

把噪声与描边相乘，则得到一个带噪声的描边效果了。

![](20210303090444395.png)

最终显示

![](20210313164317481.png)

#### 3、再加点变化
我们可以再加点动态的变化，效果如下。感兴趣的同学可以下载我的Demo学习下。

![](20210313164934940.gif)

最终效果：

![](20210313165325870.gif)